<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç —Ü–≤–µ—Ç–Ω—ã—Ö –∫–Ω–æ–ø–æ–∫</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            padding: 20px;
            background: #f5f5f5;
        }
        .product-card {
            background: white;
            padding: 20px;
            margin: 20px 0;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            max-width: 400px;
        }
        .product-brand {
            font-weight: bold;
            font-size: 18px;
            margin-bottom: 10px;
        }
        .variant-group {
            margin: 15px 0;
        }
        label {
            display: block;
            font-weight: bold;
            margin-bottom: 8px;
        }
        .variant-buttons {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }
        
        /* –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç–∏–ª–∏ –∫–Ω–æ–ø–æ–∫ */
        .variant-btn {
            padding: 8px 16px;
            border: 2px solid #667eea;
            border-radius: 18px;
            background: #f7fafc;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
        }
        
        .variant-btn:hover {
            background: #667eea;
            color: white;
        }
        
        .variant-btn.active {
            background: #667eea;
            color: white;
            border-color: #667eea;
            font-weight: 600;
        }
        
        /* –û—Å–æ–±—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è —Ü–≤–µ—Ç–Ω—ã—Ö –∫–Ω–æ–ø–æ–∫ */
        .color-btn {
            position: relative;
            overflow: hidden;
            border: 2px solid;
            font-weight: 600;
            text-shadow: 0px 0px 2px rgba(0,0,0,0.3);
            min-width: 70px;
            padding: 6px 12px;
        }
        
        .color-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0) 50%);
            pointer-events: none;
        }
        
        .color-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            filter: brightness(1.1);
        }
        
        .color-btn.active {
            transform: scale(1.05);
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            filter: brightness(1.2);
        }
        
        .button {
            background: #4ECDC4;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px;
        }
        .button:hover {
            background: #45b7aa;
        }
    </style>
</head>
<body>
    <h1>üé® –¢–µ—Å—Ç —Ü–≤–µ—Ç–Ω—ã—Ö –∫–Ω–æ–ø–æ–∫</h1>
    
    <button class="button" onclick="testColorButtons()">–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ü–≤–µ—Ç–Ω—ã–µ –∫–Ω–æ–ø–∫–∏</button>
    <button class="button" onclick="testFunctions()">–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏</button>
    
    <div id="result" style="margin-top: 20px;"></div>
    
    <script>
        // –§—É–Ω–∫—Ü–∏–∏ —Ü–≤–µ—Ç–æ–≤ –∏–∑ webapp.html
        function getColorStyle(colorName) {
            const colorMap = {
                // iPhone colors
                'ultramarine': '#663399', // –ë–æ–ª–µ–µ —Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π
                'black': '#000000', 'white': '#FFFFFF', 'pink': '#FFB6C1', // –°–≤–µ—Ç–ª–æ —Ä–æ–∑–æ–≤—ã–π
                'titanium-black': '#000000', // –ß–∏—Å—Ç–æ —á–µ—Ä–Ω—ã–π
                'titanium-white': '#FFFFFF', 'titanium-natural': '#979792', 'titanium-desert': '#B89569',
                'deep-blue': '#1B2951', 'cosmic-orange': '#FF6B35', 'silver': '#E8E8E8', // –°–≤–µ—Ç–ª–æ —Å–µ—Ä–µ–±—Ä–∏—Å—Ç—ã–π
                'teal': '#20B2AA', // –ë–∏—Ä—é–∑–æ–≤—ã–π
                
                // MacBook colors
                'space-gray': '#7F7F7F', 'silver': '#C0C0C0',
                
                // iPad colors
                'space-gray': '#6B7280', 'blue': '#2563EB', 'silver': '#C0C0C0', 'yellow': '#FFE24B',
                
                // –û–±—â–∏–µ —Ü–≤–µ—Ç–∞
                'gray': '#6B7280', 'white': '#FFFFFF', 'yellow': '#FFE24B', 'blue': '#0EA5E9', 'green': '#059669',
            };
            
            return colorMap[colorName.toLowerCase()] || '#6B7280'; // –¶–≤–µ—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (—Å–µ—Ä—ã–π)
        }
        
        function getTextColor(backgroundColor) {
            const hex = backgroundColor.slice(1);
            const r = parseInt(hex.substr(0, 2), 16);
            const g = parseInt(hex.substr(2, 2), 16);
            const b = parseInt(hex.substr(4, 2), 16);
            
            const brightness = ((r * 299) + (g * 587) + (b * 114)) / 1000;
            
            return brightness > 128 ? '#000000' : '#FFFFFF';
        }
        
        function getColorLabel(colorName) {
            const colorLabels = {
                'ultramarine': '–£–ª—å—Ç—Ä–∞–º–∞—Ä–∏–Ω',
                'titanium-black': '–¢–∏—Ç–∞–Ω –ß—ë—Ä–Ω—ã–π',
                'titanium-white': '–¢–∏—Ç–∞–Ω –ë–µ–ª—ã–π', 
                'titanium-natural': '–¢–∏—Ç–∞–Ω –ù–∞—Ç—É—Ä–∞–ª—å–Ω—ã–π',
                'titanium-desert': '–¢–∏—Ç–∞–Ω –ü–µ—Å–æ–∫',
                'deep-blue': '–ì–ª—É–±–æ–∫–∏–π –°–∏–Ω–∏–π',
                'cosmic-orange': '–ö–æ—Å–º–∏—á–µ—Å–∫–∏–π –û—Ä–∞–Ω–∂–µ–≤—ã–π',
                'silver': '–°–µ—Ä–µ–±—Ä–∏—Å—Ç—ã–π',
                'space-gray': '–ö–æ—Å–º–æ—Å –°–µ—Ä—ã–π',
                'black': '–ß—ë—Ä–Ω—ã–π',
                'white': '–ë–µ–ª—ã–π',
                'pink': '–†–æ–∑–æ–≤—ã–π',
                'yellow': '–ñ—ë–ª—Ç—ã–π',
                'teal': '–ë–∏—Ä—é–∑–æ–≤—ã–π',
                'blue': '–°–∏–Ω–∏–π',
                'green': '–ó–µ–ª—ë–Ω—ã–π',
            };
            
            return colorLabels[colorName.toLowerCase()] || colorName;
        }
        
        function testFunctions() {
            const colors = ['ultramarine', 'teal', 'pink', 'silver', 'titanium-black'];
            let result = '<h3>üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π:</h3>';
            
            colors.forEach(color => {
                const bgColor = getColorStyle(color);
                const textColor = getTextColor(bgColor);
                const label = getColorLabel(color);
                
                result += `
                    <div style="margin: 10px;">
                        <strong>${color}</strong>: bg=${bgColor}, text=${textColor}, label="${label}"
                        <div style="display: inline-block; background: ${bgColor}; color: ${textColor}; padding: 5px 10px; border-radius: 3px; margin-left: 10px;">${label}</div>
                    </div>
                `;
            });
            
            document.getElementById('result').innerHTML = result;
        }
        
        function testColorButtons() {
            const colors = ['ultramarine', 'teal', 'pink', 'silver', 'titanium-black'];
            
            const html = `
                <div class="product-card">
                    <div class="product-brand">Apple iPhone 17 Pro</div>
                    <div class="variant-group">
                        <label>–¶–≤–µ—Ç:</label>
                        <div class="variant-buttons" id="colorContainer">
                            ${colors.map((color, index) => {
                                const isActive = index === 0 ? 'active' : '';
                                const actualColorValue = color;
                                const folderName = actualColorValue.toLowerCase().replace(/\s+/g, '_');
                                const colorStyle = getColorStyle(actualColorValue);
                                const label = getColorLabel(actualColorValue);
                                const textColor = getTextColor(colorStyle);
                                
                                console.log(`üé® –°–æ–∑–¥–∞—é –∫–Ω–æ–ø–∫—É –¥–ª—è —Ü–≤–µ—Ç–∞ ${actualColorValue}:`, { colorStyle, label, textColor });
                                
                                return `<button class="variant-btn color-btn ${isActive}" data-type="color" data-value="${actualColorValue}" data-color-folder="${folderName}" style="background-color: ${colorStyle}; color: ${textColor}; border-color: ${colorStyle};">${label}</button>`;
                            }).join('')}
                        </div>
                    </div>
                </div>
            `;
            
            document.getElementById('result').innerHTML = '<h3>üé® –¶–≤–µ—Ç–Ω—ã–µ –∫–Ω–æ–ø–∫–∏:</h3>' + html;
            
            console.log('‚úÖ –¶–≤–µ—Ç–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ —Å–æ–∑–¥–∞–Ω—ã');
        }
        
        // –¢–µ—Å—Ç–∏—Ä—É–µ–º —Å—Ä–∞–∑—É –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.onload = function() {
            console.log('üöÄ –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞, —Ç–µ—Å—Ç–∏—Ä—É–µ–º —Ñ—É–Ω–∫—Ü–∏–∏...');
            testFunctions();
            testColorButtons();
        };
    </script>
</body>
</html>
